function makeCircleLineCompare(t,e,n,a){function r(t,e){return M(e)}function i(t,e){return I(t.percentInMonitor)}function l(t,e){return I(t.percentOnTwitter)}function o(t,e){return t.percentInMonitor>t.percentOnTwitter?I(t.percentInMonitor)-5:I(t.percentInMonitor)+5}function c(t,e){return t.percentInMonitor>t.percentOnTwitter?I(t.percentOnTwitter)+5:I(t.percentOnTwitter)-5}function d(){var e=F.exit();e.selectAll("line").transition().duration(300).attr("x1",v.left),e.selectAll("circle").transition().duration(300).attr("cx",v.left),e.selectAll("text").transition().duration(300).attr("opacity",0),e.transition().delay(300).duration(0).remove();var n=F.enter().append("g").attr("class","datum").each(function(t,e){t.percentInMonitor>A&&(A=t.percentInMonitor),t.percentOnTwitter>A&&(A=t.percentOnTwitter)}).on("click",function(t,e){console.log(t)}).on("mouseover",function(t,e){}).on("mouseleave",function(t,e){});I.domain([0,A]),T.domain([0,A]);var a=d3.selectAll(t+" line.left-axis"),d=d3.selectAll(t+" text.left-axis");a.attr("x1",I(0)).attr("x2",I(0)),d.attr("x",I(0));var s=d3.selectAll(t+" line.middle-axis"),x=d3.selectAll(t+" text.middle-axis");s.attr("x1",function(t){return I(A/2)}).attr("x2",function(t){return I(A/2)}),x.attr("x",function(t){return I(A/2)}).text(function(t,e){return(A/2).toFixed(1)+"%"});var a=d3.selectAll(t+" line.left-axis"),d=d3.selectAll(t+" text.left-axis");a.attr("x1",I(A)).attr("x2",I(A)),d.attr("x",I(A)).html(function(t,e){return A.toFixed(1)+"%"}),n.append("line").attr("x1",v.left).attr("y1",r).attr("x2",v.left).attr("y2",r),n.append("circle").attr("class","monitor-point").attr("r",w).attr("cx",v.left).attr("cy",r).on("mouseover",function(t,e){}).on("mouseleave",function(t,e){}),n.append("circle").attr("class","twitter-point").attr("r",w).attr("cx",v.left).attr("cy",r).on("mouseover",function(t,e){}).on("mouseleave",function(t,e){}),n.append("text").text(function(t,e){return t.name}).attr("text-anchor","end").attr("x",v.left-20).attr("y",r).attr("class","label"),k=d3.selectAll(t+" .datum line"),k.transition().delay(50).duration(700).ease("elastic").attr("x1",o).attr("x2",c),z=d3.selectAll(t+" .datum .monitor-point"),z.transition().delay(50).duration(750).ease("elastic").attr("cx",i),C=d3.selectAll(t+" .datum .twitter-point"),C.transition().delay(50).duration(750).ease("elastic").attr("cx",l),L=d3.selectAll(t+" .datum .label"),L.attr("y",r)}for(var s=new Date(e.startDate),x=new Date(e.endDate),p=e.affinityInfo,u=[],f=0;f<n.length;f++)u.push(p[f]);var m=$(t).innerWidth()-20,h=m+"px",y=a,g=y+"px",v={top:20,bottom:25,left:205,right:25};void 0===a&&(a=200);var A=0,w=5,I=d3.scale.linear().domain([0,100]).range([v.left,m-v.right]),M=d3.scale.linear().domain([u.length-1,0]).range([y-v.bottom,v.top+3*w]),O=d3.scale.linear().domain([0,100]).range([.1,1]),T=d3.scale.linear().domain([0,100]).range([5,20]),b=d3.select(t+" .viz-content").append("svg").attr("width",h).attr("height",g),D=b.append("g").attr("class","axes");D.append("line").classed("left-axis",!0).attr("x1",I(0)).attr("x2",I(0)).attr("y1",M(0)-2*w).attr("y2",M(u.length-1)+2*w),D.append("text").classed("left-axis",!0).attr("x",I(0)).attr("y",M(0)-3*w).attr("text-anchor","end").text("0%"),D.append("line").classed("middle-axis",!0).attr("x1",I(A/2)).attr("x2",I(A/2)).attr("y1",M(0)-2*w).attr("y2",M(u.length-1)+2*w),D.append("text").classed("middle-axis",!0).attr("x",I(A/2)).attr("y",M(0)-3*w).attr("text-anchor","middle").text(function(t,e){return(A/2).toFixed(1)+"%"}),D.append("line").classed("right-axis",!0).attr("x1",I(A)).attr("x2",I(A)).attr("y1",M(0)-2*w).attr("y2",M(u.length-1)+2*w),D.append("text").classed("right-axis",!0).attr("x",I(A)).attr("y",M(0)-3*w).attr("text-anchor","start").html(function(t,e){return A.toFixed(1)+"%"});var F=b.append("g").selectAll("g").data(u),k,C,z,L;d(),D.append("text").text("twitter").attr("text-anchor","middle").attr("x",l(u[u.length-1])).attr("y",y-v.bottom/4),D.append("text").text("my monitor").attr("text-anchor","middle").attr("x",i(u[u.length-1])).attr("y",y-v.bottom/4)}